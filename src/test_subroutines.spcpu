.include "../include/spcpu_ca65_macro_pack.spinc"
.include "misc_utility_macros.spinc"


.export other_file_test_subroutine
.export end_simulation

.segment "ROM"


other_file_test_subroutine:
	;;;push_pair lr
	;;multi_push_pairs r0p, r2p
	push_pair r2p
	;subpbi sp, 2
	;stpxi r2p, sp, 1
	
	
	;cpypi r0p, 2016
	;subpi r0p, 2004
	cpypi r0p, 2016
	;cpypi r2p, 2004
	cpypi r2p, 9
	subp r0p, r2p
	
	;;multi_pop_pairs r0p, r2p
	;
	pop_pair r2p
	;;pop_and_ret lr
	;addpbi sp, 2
	;ldpxi r2p, sp, -2
	basic_jump lr


; End RTL Simulation of the CPU by using a special instruction sequence of
; four 0000's
end_simulation:
	;cpypi r2p, $99bb
	.repeat 4
	addi r0, 0
	.endrep
	;.asciiz "abcdef"
