
.macro _branch_offset instr, target
	.local @distance, @next
	@distance = (target) - @next
	instr
	.assert @distance >= -128 && @distance <= 127, error, "branch out of range"
	.byte <@distance
@next:

.macro add
	
.endmacro

.segment "ROM"
main:
	clv
	bvc main
